---
title       : Normal Distribution Sandbox
subtitle    : Developing Data Products Peer-graded Assignment
author      : Eduard Santamaria
job         : 
framework   : io2012        # {io2012, html5slides, shower, dzslides, ...}
highlighter : highlight.js  # {highlight.js, prettify, highlight}
hitheme     : tomorrow      # 
widgets     : []            # {mathjax, quiz, bootstrap}
mode        : selfcontained # {standalone, draft}
knit        : slidify::knit2slides
---

## Introduction

`About the slides:` These slides correspond to week 4's assignment of the *Developing Data Products* course of the Johns Hopkins University on Coursera. The slides refer to the Shiny web application available **here**. Source code of both the application and the slides can be found on GitHub at **TBD**.

`About the application:` The developed Shiny application enables the user to experiment with a number of parameters related to normal distributions. The user can set values such as the mean of the normal distribution, its standard deviation and a specific number of points for random generation, among other parameters, and graphically observe the results.

--- .class #input &twocol w1:35% w2:65%

## Input Values

*** =left
<img class='left' src='assets/img/input_panel.png' height=500px/>

*** =right

A panel with input controls enables the user to introduce the following parameters:
- The mean of the normal distribution.
- The standard deviation of the distribution.
- The number of points that will be randomly generated.
- A value which can represent either a quantile or a probability.
- Whether the given value is a quantile or a probability.
- The value of the `lower tail` parameter that will be passed to the R functions used by the server.

--- .class #output &twocol w1:35% w2:65%

## Displayed Result

*** =left
![plot of chunk plot](assets/fig/plot-1.png)

*** =right

After submitting the input parameters, a plot like the one on the left will be generated. The plot shows:

- A "perfect" normal for reference (grey curve)
- A density plot of the randomly generated points (blue curve)
- The given mean (green line)
- The position of the given/computed quantile (red line).

--- .class #backend font_adjustment: -10

## Behind the Scenes

The plot from the previous slide has been generated by the following R code embedded in the presentation. The same code, but using user input, is used on the server-side of the Shiny app.

<style>
code.r {
  font-size: 12px;
}
</style>


```r
    input <- list(num = 100, mean = 0, sd = 1, radio = 2, param = .95, lower.tail = TRUE)
    normdata <- as.data.frame(x = rnorm(input$num, mean = input$mean, sd = input$sd))
    names(normdata) <- c("x")
    # draw reference density plot and density plot with random numbers
    p <- ggplot(data = normdata, aes(x)) + 
      stat_function(fun = dnorm, n = 1000, args = list(mean = input$mean, sd = input$sd), 
                    aes(colour = "normal")) +
      scale_y_continuous(breaks = NULL) + 
      geom_density(aes(color = "random"))
    # determine where to draw the quantile line
    pos <-
      ifelse(
        input$radio == 1,
        input$param,
        qnorm(input$param, mean = input$mean, sd = input$sd, lower.tail = input$lower.tail)
      )
    # add mean and quantile lines to plot
    p <- p + geom_vline(aes(xintercept = input$mean, color = "mean")) +
      geom_vline(aes(xintercept = pos, color = "quantile")) +
      scale_color_manual(
        name = "", 
        values = c(normal = "dimgray", random = "blue", mean = "forestgreen", quantile = "firebrick"))
    p
```
